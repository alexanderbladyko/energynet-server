aliases:
  - &game_id 99
  - &game_map test_map
steps:
  - user: 2
    action: auction_bid
    data: {'station': 20.0, 'bid': 20}
    assert:
      game:
        step: auction
        order: [2, 1, 3, 4]
        turn: 1
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: 20.0, bid: 20, user_id: 2 }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 22.0, 30.0, 20.0, 25.0, 35.0,
          ]
      players:
        1:
          stations: [3.0, 11.0]
          cash: 51
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0]
          cash: 49
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0]
          cash: 49
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0]
          cash: 66
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 1
    action: auction_pass
    assert:
      game:
        step: auction
        order: [2, 1, 3, 4]
        turn: 3
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: 20.0, bid: 20, user_id: 2 }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 22.0, 30.0, 20.0, 25.0, 35.0,
          ]
      players:
        1:
          stations: [3.0, 11.0]
          cash: 51
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0]
          cash: 49
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0]
          cash: 49
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0]
          cash: 66
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 3
    action: auction_pass
    assert:
      game:
        step: auction
        order: [2, 1, 3, 4]
        turn: 4
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: 20.0, bid: 20, user_id: 2 }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 22.0, 30.0, 20.0, 25.0, 35.0,
          ]
      players:
        1:
          stations: [3.0, 11.0]
          cash: 51
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0]
          cash: 49
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0]
          cash: 49
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0]
          cash: 66
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 4
    action: auction_pass
    assert:
      game:
        step: auction
        order: [2, 1, 3, 4]
        turn: 1
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 22.0, 30.0, 25.0, 35.0, 19.0
          ]
      players:
        1:
          stations: [3.0, 11.0]
          cash: 51
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0]
          cash: 49
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0]
          cash: 66
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 1
    action: auction_bid
    data: {'station': 19.0, 'bid': 19}
    assert:
      game:
        step: auction
        order: [2, 1, 3, 4]
        turn: 3
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: 19.0, bid: 19, user_id: 1 }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 22.0, 30.0, 25.0, 35.0, 19.0
          ]
      players:
        1:
          stations: [3.0, 11.0]
          cash: 51
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0]
          cash: 49
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0]
          cash: 66
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 3
    action: auction_bid
    data: {'station': 19.0, 'bid': 20}
    assert:
      game:
        step: auction
        order: [2, 1, 3, 4]
        turn: 4
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: 19.0, bid: 20, user_id: 3 }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 22.0, 30.0, 25.0, 35.0, 19.0
          ]
      players:
        1:
          stations: [3.0, 11.0]
          cash: 51
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0]
          cash: 49
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0]
          cash: 66
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 4
    action: auction_pass
    assert:
      game:
        step: auction
        order: [2, 1, 3, 4]
        turn: 1
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: 19.0, bid: 20, user_id: 3 }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 22.0, 30.0, 25.0, 35.0, 19.0
          ]
      players:
        1:
          stations: [3.0, 11.0]
          cash: 51
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0]
          cash: 49
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0]
          cash: 66
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 1
    action: auction_bid
    data: {'station': 19.0, 'bid': 21}
    assert:
      game:
        step: auction
        order: [2, 1, 3, 4]
        turn: 3
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: 19.0, bid: 21, user_id: 1 }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 22.0, 30.0, 25.0, 35.0, 19.0
          ]
      players:
        1:
          stations: [3.0, 11.0]
          cash: 51
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0]
          cash: 49
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0]
          cash: 66
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 3
    action: auction_pass
    assert:
      game:
        step: auction
        order: [2, 1, 3, 4]
        turn: 3
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 22.0, 30.0, 25.0, 35.0, 33.0
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 30
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0]
          cash: 49
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0]
          cash: 66
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 3
    action: auction_bid
    data: { station: 25.0, bid: 25 }
    assert:
      game:
        step: auction
        order: [2, 1, 3, 4]
        turn: 4
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: 25.0, bid: 25, user_id: 3 }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 22.0, 30.0, 25.0, 35.0, 33.0
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 30
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0]
          cash: 49
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0]
          cash: 66
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 4
    action: auction_pass
    assert:
      game:
        step: auction
        order: [2, 1, 3, 4]
        turn: 4
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 22.0, 30.0, 35.0, 33.0, 33.5,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 30
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 24
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0]
          cash: 66
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 4
    action: auction_bid
    data: {station: 22.0, bid: 22}
    assert:
      game:
        step: resources_buy
        order: [2, 1, 3, 4]
        turn: 4
        resources: {'uranium': 8, 'coal': 16, 'oil': 17, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 30
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 24
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0, 22.0]
          cash: 44
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  # RESOURCES_BUY round 2
  - user: 4
    action: resource_buy
    data:
      resources:
        oil: 3
    assert:
      game:
        step: resources_buy
        order: [2, 1, 3, 4]
        turn: 3
        resources: {'uranium': 8, 'coal': 16, 'oil': 14, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 30
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 24
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0, 22.0]
          cash: 34
          resources: {oil: 3, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 3
    action: resource_buy
    data:
      resources:
        coal: 2
    assert:
      game:
        step: resources_buy
        order: [2, 1, 3, 4]
        turn: 1
        resources: {'uranium': 8, 'coal': 14, 'oil': 14, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 30
          resources: {oil: 2, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 17
          resources: {oil: 1, coal: 2, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0, 22.0]
          cash: 34
          resources: {oil: 3, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 1
    action: resource_buy
    data:
      resources:
        uranium: 1
    assert:
      game:
        step: resources_buy
        order: [2, 1, 3, 4]
        turn: 2
        resources: {'uranium': 7, 'coal': 14, 'oil': 14, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 25
          resources: {oil: 2, coal: 0, uranium: 1, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 29
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 17
          resources: {oil: 1, coal: 2, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0, 22.0]
          cash: 34
          resources: {oil: 3, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  - user: 2
    action: resource_buy
    data:
      resources:
        coal: 3
    assert:
      game:
        step: cities_buy
        order: [2, 1, 3, 4]
        turn: 4
        resources: {'uranium': 7, 'coal': 11, 'oil': 14, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 25
          resources: {oil: 2, coal: 0, uranium: 1, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 16
          resources: {oil: 0, coal: 3, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 17
          resources: {oil: 1, coal: 2, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0, 22.0]
          cash: 34
          resources: {oil: 3, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
  # CITIES_BUY round 2
  - user: 4
    action: cities_buy
    data:
      cities: [ufa, chelyabinsk]
    assert:
      game:
        step: cities_buy
        order: [2, 1, 3, 4]
        turn: 3
        resources: {'uranium': 7, 'coal': 11, 'oil': 14, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 25
          resources: {oil: 2, coal: 0, uranium: 1, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 16
          resources: {oil: 0, coal: 3, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 17
          resources: {oil: 1, coal: 2, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
        4:
          stations: [7.0, 22.0]
          cash: 5
          resources: {oil: 3, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
            ufa: 10
            chelyabinsk: 10
  - user: 3
    action: cities_buy
    data:
      cities: [samara]
    assert:
      game:
        step: cities_buy
        order: [2, 1, 3, 4]
        turn: 1
        resources: {'uranium': 7, 'coal': 11, 'oil': 14, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 25
          resources: {oil: 2, coal: 0, uranium: 1, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 16
          resources: {oil: 0, coal: 3, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 4
          resources: {oil: 1, coal: 2, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
            samara: 10
        4:
          stations: [7.0, 22.0]
          cash: 5
          resources: {oil: 3, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
            ufa: 10
            chelyabinsk: 10
  - user: 1
    action: cities_buy
    data:
      cities: []
    assert:
      game:
        step: cities_buy
        order: [2, 1, 3, 4]
        turn: 2
        resources: {'uranium': 7, 'coal': 11, 'oil': 14, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 25
          resources: {oil: 2, coal: 0, uranium: 1, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 16
          resources: {oil: 0, coal: 3, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 4
          resources: {oil: 1, coal: 2, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
            samara: 10
        4:
          stations: [7.0, 22.0]
          cash: 5
          resources: {oil: 3, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
            ufa: 10
            chelyabinsk: 10
  - user: 2
    action: cities_buy
    data:
      cities: [yaroslavl]
    assert:
      game:
        step: finance_receive
        order: [2, 1, 3, 4]
        turn: 4
        resources: {'uranium': 7, 'coal': 11, 'oil': 14, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 25
          resources: {oil: 2, coal: 0, uranium: 1, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 3
          resources: {oil: 0, coal: 3, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
            yaroslavl: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 4
          resources: {oil: 1, coal: 2, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
            samara: 10
        4:
          stations: [7.0, 22.0]
          cash: 5
          resources: {oil: 3, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
            ufa: 10
            chelyabinsk: 10
  # FINANCE_RECEIVE round 2
  - user: 4
    action: finance_receive
    data:
      stations:
        7.0:
          oil: 3
        22.0: {}
    assert:
      game:
        step: finance_receive
        order: [2, 1, 3, 4]
        turn: 3
        resources: {'uranium': 7, 'coal': 11, 'oil': 14, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 25
          resources: {oil: 2, coal: 0, uranium: 1, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 3
          resources: {oil: 0, coal: 3, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
            yaroslavl: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 4
          resources: {oil: 1, coal: 2, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
            samara: 10
        4:
          stations: [7.0, 22.0]
          cash: 59
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
            ufa: 10
            chelyabinsk: 10
  - user: 3
    action: finance_receive
    data:
      stations:
        25.0:
          coal: 2
    assert:
      game:
        step: finance_receive
        order: [2, 1, 3, 4]
        turn: 1
        resources: {'uranium': 7, 'coal': 11, 'oil': 14, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 25
          resources: {oil: 2, coal: 0, uranium: 1, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 3
          resources: {oil: 0, coal: 3, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
            yaroslavl: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 48
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
            samara: 10
        4:
          stations: [7.0, 22.0]
          cash: 59
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
            ufa: 10
            chelyabinsk: 10
  - user: 1
    action: finance_receive
    data:
      stations:
        3.0:
          oil: 2
        11.0:
          uranium: 1
    assert:
      game:
        step: finance_receive
        order: [2, 1, 3, 4]
        turn: 2
        resources: {'uranium': 7, 'coal': 11, 'oil': 14, 'waste': 6}
        auction: { station: null, bid: null, user_id: null }
        stations:
          from: 0
          to: 6
          data: [
            10.0, 30.0, 35.0, 33.0, 33.5, 44.0,
          ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 69
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 3
          resources: {oil: 0, coal: 3, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
            yaroslavl: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 48
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
            samara: 10
        4:
          stations: [7.0, 22.0]
          cash: 59
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
            ufa: 10
            chelyabinsk: 10
  - user: 2
    action: finance_receive
    data:
      stations:
        20.0:
          coal: 3
    assert:
      game:
        step: auction
        order: [4, 2, 3, 1]
        turn: 4
        resources: {'uranium': 8, 'coal': 14, 'oil': 19, 'waste': 9}
        auction: { station: null, bid: null, user_id: null }
        stations: [
          10.0, 30.0, 35.0, 33.0, 33.5, 18.0,
          21.0, 31.0, 17.0, 38.0, 39.0,
          29.0, 23.0, 37.0, 26.0, 42.0,
          46.0, 28.0, 27.0, 32.0, 34.0,
          50.0, 36.0, 16.0, 15.0, 24.0, -1.0, 13.0, 40.0, 44.0,
        ]
      players:
        1:
          stations: [3.0, 11.0, 19.0]
          cash: 69
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            kazan: 10
            nizhnekamsk: 10
            cheboksary: 10
        2:
          stations: [5.0, 12.0, 20.0]
          cash: 57
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ryazan: 10
            moscow: 10
            tula: 10
            yaroslavl: 10
        3:
          stations: [8.0, 9.0, 25.0]
          cash: 48
          resources: {oil: 1, coal: 0, uranium: 0, waste: 0}
          cities:
            saratov: 10
            ulyanovsk: 10
            samara: 10
        4:
          stations: [7.0, 22.0]
          cash: 59
          resources: {oil: 0, coal: 0, uranium: 0, waste: 0}
          cities:
            ekaterinburg: 10
            perm: 10
            ufa: 10
            chelyabinsk: 10
